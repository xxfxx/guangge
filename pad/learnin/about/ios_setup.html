<!DOCTYPE html>
<html>
  <head>
    <title>海风学习中心移动版（iOS）安装说明 | 海风教育</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link href="ios_setup/resources/css/jquery-ui-themes.css" type="text/css" rel="stylesheet"/>
    <link href="ios_setup/resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="ios_setup/data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="ios_setup/files/app_setup/styles.css" type="text/css" rel="stylesheet"/>
    <script src="ios_setup/resources/scripts/jquery-1.7.1.min.js"></script>
    <script src="ios_setup/resources/scripts/jquery-ui-1.8.10.custom.min.js"></script>
    <script src="ios_setup/resources/scripts/axure/axQuery.js"></script>
    <script src="ios_setup/resources/scripts/axure/globals.js"></script>
    <script src="ios_setup/resources/scripts/axutils.js"></script>
    <script src="ios_setup/resources/scripts/axure/annotation.js"></script>
    <script src="ios_setup/resources/scripts/axure/axQuery.std.js"></script>
    <script src="ios_setup/resources/scripts/axure/doc.js"></script>
    <script src="ios_setup/data/document.js"></script>
    <script src="ios_setup/resources/scripts/messagecenter.js"></script>
    <script src="ios_setup/resources/scripts/axure/events.js"></script>
    <script src="ios_setup/resources/scripts/axure/recording.js"></script>
    <script src="ios_setup/resources/scripts/axure/action.js"></script>
    <script src="ios_setup/resources/scripts/axure/expr.js"></script>
    <script src="ios_setup/resources/scripts/axure/geometry.js"></script>
    <script src="ios_setup/resources/scripts/axure/flyout.js"></script>
    <script src="ios_setup/resources/scripts/axure/ie.js"></script>
    <script src="ios_setup/resources/scripts/axure/model.js"></script>
    <script src="ios_setup/resources/scripts/axure/repeater.js"></script>
    <script src="ios_setup/resources/scripts/axure/sto.js"></script>
    <script src="ios_setup/resources/scripts/axure/utils.temp.js"></script>
    <script src="ios_setup/resources/scripts/axure/variables.js"></script>
    <script src="ios_setup/resources/scripts/axure/drag.js"></script>
    <script src="ios_setup/resources/scripts/axure/move.js"></script>
    <script src="ios_setup/resources/scripts/axure/visibility.js"></script>
    <script src="ios_setup/resources/scripts/axure/style.js"></script>
    <script src="ios_setup/resources/scripts/axure/adaptive.js"></script>
    <script src="ios_setup/resources/scripts/axure/tree.js"></script>
    <script src="ios_setup/resources/scripts/axure/init.temp.js"></script>
    <script src="ios_setup/files/app_setup/data.js"></script>
    <script src="ios_setup/resources/scripts/axure/legacy.js"></script>
    <script src="ios_setup/resources/scripts/axure/viewer.js"></script>
    <script src="ios_setup/resources/scripts/axure/math.js"></script>
    <script src="../../../config/config.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- bodyBg (Rectangle) -->
      <div id="u0" class="ax_default" data-label="bodyBg">
        <div id="u0_div" class=""></div>
        <!-- Unnamed () -->
        <div id="u1" class="text" style="display: none; visibility: hidden">
          <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:16px;text-decoration:none;color:#666666;"></span></p>
        </div>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u2" class="ax_default image">
        <img id="u2_img" class="img " src="ios_setup/images/app_setup/u2.png"/>
        <!-- Unnamed () -->
        <div id="u3" class="text" style="display: none; visibility: hidden">
          <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
        </div>
      </div>

      <!-- body (Dynamic Panel) -->
      <div id="u4" class="ax_default" data-label="body">
        <div id="u4_state0" class="panel_state" data-label="State1">
          <div id="u4_state0_content" class="panel_state_content">

            <!-- Unnamed (Group) -->
            <div id="u5" class="ax_default">

              <!-- Unnamed (Rectangle) -->
              <div id="u6" class="ax_default func_body selected">
                <div id="u6_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u7" class="text" style="visibility: visible;">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;">1. 点击“安装”按钮后，应用会开始安装</span></p>
                </div>
              </div>

              <!-- Unnamed (Image) -->
              <div id="u8" class="ax_default image">
                <img id="u8_img" class="img " src="ios_setup/images/app_setup/u8.png"/>
                <!-- Unnamed () -->
                <div id="u9" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>
            </div>

            <!-- Unnamed (Group) -->
            <div id="u10" class="ax_default">

              <!-- Unnamed (Rectangle) -->
              <div id="u11" class="ax_default func_body selected">
                <div id="u11_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u12" class="text" style="visibility: visible;">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;">2. 初次进入应用时会出现如下提示</span></p>
                </div>
              </div>

              <!-- Unnamed (Image) -->
              <div id="u13" class="ax_default image">
                <img id="u13_img" class="img " src="ios_setup/images/app_setup/u13.png"/>
                <!-- Unnamed () -->
                <div id="u14" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>
            </div>

            <!-- Unnamed (Group) -->
            <div id="u15" class="ax_default">

              <!-- Unnamed (Rectangle) -->
              <div id="u16" class="ax_default func_body selected">
                <div id="u16_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u17" class="text" style="visibility: visible;">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;">进入手机的 设置 &gt; 通用 &gt; 描述文件</span></p><p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;">选择下图所示的证书，并点击“信任”</span></p>
                </div>
              </div>

              <!-- Unnamed (Image) -->
              <div id="u18" class="ax_default image">
                <img id="u18_img" class="img " src="ios_setup/images/app_setup/u18.png"/>
                <!-- Unnamed () -->
                <div id="u19" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>

              <!-- Unnamed (Rectangle) -->
              <div id="u20" class="ax_default heading_2">
                <div id="u20_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u21" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Bold', '微软雅黑';font-weight:700;font-style:normal;font-size:24px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- btn_lms (Group) -->
      <div id="u22" class="ax_default" data-label="btn_lms">
      </div>

      <!-- Unnamed (Group) -->
      <div id="u23" class="ax_default">

        <!-- Unnamed (Dynamic Panel) -->
        <div id="u24" class="ax_default">
          <div id="u24_state0" class="panel_state" data-label="State1">
            <div id="u24_state0_content" class="panel_state_content">

              <!-- bottomBg (Rectangle) -->
              <div id="u25" class="ax_default func_body selected" data-label="bottomBg">
                <div id="u25_div" class=""></div>
                <!-- Unnamed () -->
                <div id="u26" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>

              <!-- Unnamed (Image) -->
              <div id="u27" class="ax_default image">
                <img id="u27_img" class="img " src="ios_setup/images/app_setup/u27.png"/>
                <!-- Unnamed () -->
                <div id="u28" class="text" style="display: none; visibility: hidden">
                  <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#666666;"></span></p>
                </div>
              </div>

              <!-- Unnamed (Group) -->
              <div id="u29" class="ax_default">

                <!-- Unnamed (Rectangle) -->
                <div id="u30" class="ax_default func_body selected">
                  <div id="u30_div" class=""></div>
                  <!-- Unnamed () -->
                  <div id="u31" class="text" style="visibility: visible;">
                    <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:14px;text-decoration:none;color:#212121;">学习中心移动版（iOS）</span></p>
                  </div>
                </div>

                <!-- Unnamed (Rectangle) -->
                <div id="u32" class="ax_default func_body selected">
                  <div id="u32_div" class=""></div>
                  <!-- Unnamed () -->
                  <div id="u33" class="text" style="visibility: visible;">
                    <p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:12px;text-decoration:none;color:#999999;">若无法安装请刷新本页面</span></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Unnamed (Dynamic Panel) -->
        <div id="u34" class="ax_default">
          <div id="u34_state0" class="panel_state" data-label="State1">
            <div id="u34_state0_content" class="panel_state_content">

              <!-- btn_lms (Group) -->
              <div id="u35" class="ax_default" data-label="btn_lms">

                <!-- Unnamed (Rectangle) -->
                <div id="u36" class="ax_default" onclick="install();">
                  <img id="u36_img" class="img " src="ios_setup/images/app_setup/u36.png"/>
                  <!-- Unnamed () -->
                  <div id="u37" class="text" style="visibility: visible;">
                  	<p><span style="font-family:'微软雅黑 Regular', '微软雅黑';font-weight:400;font-style:normal;font-size:16px;text-decoration:none;color:#FFFFFF;">安装</span></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
<div id="weixin_ios_div" style="display:none;position: fixed;left:0px;top:0px;width:100%;height:100%;background:url(ios_setup/bg_intro.png);">
    	<img style="position: absolute;right:0px;width:300px;" src="ios_setup/img_intro.png"/>
    </div>
<div id="weixin_android_div" style="display:none;position: fixed;left:0px;top:0px;width:100%;height:100%;background:url(ios_setup/bg_intro.png);">
    	<img style="position: absolute;right:0px;width:300px;" src="ios_setup/img_intro2.png"/>
    </div>
<script>
// 取得操作系统信息
function os_info(){
	var info = {};
    var ua = navigator.userAgent.toLowerCase();
    //document.getElementById('testMessage').innerHTML=ua;//alert(ua);
    if(ua.match(/MicroMessenger/i)=="micromessenger") {
    	info.weixin = true;
    } else {
        info.weixin = false;
    }
    
    var m;
    if ((m=ua.match(/; android ([\d\.]+);/))) {
    	info.osName = 'android';
    	info.osVersion = m[1];
    	var v=info.osVersion.split('\.');
    	info.osMainVersion=v[0];
    } else if((m=ua.match(/\(iphone; cpu[^;]*? os ([\d_]+)/))) {
    	info.osName = 'iphone';
    	info.osVersion = m[1];
    	var v=info.osVersion.split('_');
    	if (v.length>1) {
    		info.osMainVersion=v[0];
    	} else {
    		info.osMainVersion=info.osVersion;
    	}
    } else if ((m=ua.match(/\(ipad; cpu[^;]*? os ([\d_]+)/))) {
    	info.osName = 'ipad';
    	info.osVersion = m[1];
    	var v=info.osVersion.split('_');
    	if (v.length>1) {
    		info.osMainVersion=v[0];
    	} else {
    		info.osMainVersion=info.osVersion;
    	}
    } else {
    	// 根据需要自行扩展pc浏览器
    	info.osName = 'pc';
    	//info.osVersion = m[1];
    }
    
    //document.getElementById('testMessage').innerHTML='weixin:'+info.weixin+';osName:'+info.osName+';osMainVersion:'+info.osMainVersion;
    return info;
}

	var downloadURL;
	var osInfo=os_info();
	
	if (osInfo.weixin) {
		// 弹层
		if (osInfo.osName=='iphone'||osInfo.osName=='ipad') {
			$('#weixin_ios_div').css({'display':'block', 'width':document.body.scrollWidth});
		} else {
			$('#weixin_android_div').css({'display':'block', 'width':document.body.scrollWidth});
		}
	} else {
		// 打开浏览器
	}

function install() {
		if (osInfo.osName=='iphone'||osInfo.osName=='ipad') {
				$.post(XUE_DOMAIN + '/userApp/validateAppVersionUpdateOrNot?t='+new Date().getTime(),
				{
					"platform":"1" ,
					"appVersion":"0.0.0"
				}, function(data) {
					if (data.code==0) {
						var versions = data.data;
						for (var i=0; i<versions.length; i++) {
							var v = versions[i];
							if (osInfo.osMainVersion>=v.versionId) {
								downloadURL= v.downLoadUrl;
								break;
							}
						}
						if (!downloadURL) {
							downloadURL = versions[versions.length-1].downLoadUrl;
						}
						if (downloadURL) {
							window.location.href=downloadURL;
						}
					}
				});
		} else if (osInfo.osName=='android') {
				$.post(XUE_DOMAIN + '/userApp/validateAppVersionUpdateOrNot?t='+new Date().getTime(),
				{
					"platform":"2" ,
					"appVersion":"0.0.0"
				}, function(data) {
					if (data.code==0) {
						var versions = data.data;
						for (var i=0; i<versions.length; i++) {
							var v = versions[i];
							if (osInfo.osMainVersion>=v.versionId) {
								downloadURL= v.downLoadUrl;
								break;
							}
						}
						if (!downloadURL) {
							downloadURL = versions[versions.length-1].downLoadUrl;
						}
						if (downloadURL) {
							window.location.href=downloadURL;
						}
					}
				});
		} else {
			alert('暂不支持此操作系统');
		}
}
</script>
  </body>
</html>
